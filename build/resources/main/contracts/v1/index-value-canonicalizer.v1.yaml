kind: IndexValueCanonicalizerContract
id: index-value-canonicalizer.v1
version: 1.0.0
status: ACTIVE

definition:
  meaning: Canonicalization rules for index_value used by InvertedIndex selectors
  note: If canonicalization changes, treat as sink/backfill trigger and index rebuild

rules:
  trim: true
  collapseWhitespace: true
  unicodeNormalize: NFKC
  toLowercase: true
  locale: ROOT
  separators:
    normalizeDashUnderscore: true
  listCanonicalization:
    sort: true
    distinct: true
